<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="x-ua-compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>ml.nlp | vdoc</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Jost:wght@300;400;500;600;700&display=swap" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css2?family=JetBrains+Mono&display=swap" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="180x180" href="apple-touch-icon.png">
  <link rel="icon" type="image/png" sizes="32x32" href="favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="favicon-16x16.png">
  <link rel="manifest" href="site.webmanifest">
  <link rel="mask-icon" href="safari-pinned-tab.svg" color="#5bbad5">
  <meta name="msapplication-TileColor" content="#da532c">
  <meta name="theme-color" content="#ffffff">
  
		<link rel="stylesheet" href="doc.css" />
		<link rel="stylesheet" href="normalize.css" />
		<script src="dark-mode.js"></script>
</head>

<body>
  <div><a id="skip-to-content-link" href="#main-content">Skip to content</a></div>
  <div id="page">
    <header class="doc-nav hidden">
      <div class="heading-container">
        <div class="heading">
          <div class="info">
            <div class="module">vsl</div>
            <div class="toggle-version-container">
              <span>0.1.47 f5d0ba3</span>
              <div id="dark-mode-toggle" role="switch" aria-checked="false" aria-label="Toggle dark mode"><svg xmlns="http://www.w3.org/2000/svg" class="light-icon" height="24" viewBox="0 0 24 24" width="24"><path d="M0 0h24v24H0z" fill="none"/><path d="M6.76 4.84l-1.8-1.79-1.41 1.41 1.79 1.79 1.42-1.41zM4 10.5H1v2h3v-2zm9-9.95h-2V3.5h2V.55zm7.45 3.91l-1.41-1.41-1.79 1.79 1.41 1.41 1.79-1.79zm-3.21 13.7l1.79 1.8 1.41-1.41-1.8-1.79-1.4 1.4zM20 10.5v2h3v-2h-3zm-8-5c-3.31 0-6 2.69-6 6s2.69 6 6 6 6-2.69 6-6-2.69-6-6-6zm-1 16.95h2V19.5h-2v2.95zm-7.45-3.91l1.41 1.41 1.79-1.8-1.41-1.41-1.79 1.8z"/></svg>
<svg xmlns="http://www.w3.org/2000/svg" class="dark-icon" enable-background="new 0 0 24 24" height="24" viewBox="0 0 24 24" width="24"><g><rect fill="none" height="24" width="24"/></g><g><g><g><path d="M11.1,12.08C8.77,7.57,10.6,3.6,11.63,2.01C6.27,2.2,1.98,6.59,1.98,12c0,0.14,0.02,0.28,0.02,0.42 C2.62,12.15,3.29,12,4,12c1.66,0,3.18,0.83,4.1,2.15C9.77,14.63,11,16.17,11,18c0,1.52-0.87,2.83-2.12,3.51 c0.98,0.32,2.03,0.5,3.11,0.5c3.5,0,6.58-1.8,8.37-4.52C18,17.72,13.38,16.52,11.1,12.08z"/></g><path d="M7,16l-0.18,0C6.4,14.84,5.3,14,4,14c-1.66,0-3,1.34-3,3s1.34,3,3,3c0.62,0,2.49,0,3,0c1.1,0,2-0.9,2-2 C9,16.9,8.1,16,7,16z"/></g></g></svg>
</div>
            </div>
            <svg xmlns="http://www.w3.org/2000/svg" id="toggle-menu" height="24" viewBox="0 0 24 24" width="24"><path d="M0 0h24v24H0z" fill="none"/><path d="M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z"/></svg>

          </div>
          <input type="text" id="search" placeholder="Search... (beta)" autocomplete="off">
        </div>
      </div>
      <nav class="search hidden"></nav>
      <nav class="content hidden">
        <ul>
          <li class="open"><div class="menu-row"><a href="./index.html">README</a></div></li><li class="open"><div class="menu-row"><a href="./.html"></a></div></li><li class="open"><div class="menu-row"><a href="./consts.html">consts</a></div></li><li class="open"><div class="menu-row"><a href="./deriv.html">deriv</a></div></li><li class="open"><div class="menu-row"><a href="./diff.html">diff</a></div></li><li class="open"><div class="menu-row"><a href="./dist.html">dist</a></div></li><li class="open"><div class="menu-row"><a href="./easings.html">easings</a></div></li><li class="open"><div class="menu-row"><a href="./errors.html">errors</a></div></li><li class="open"><div class="menu-row"><a href="./dataset.html">dataset</a></div></li><li class="open"><div class="menu-row"><a href="./fit.html">fit</a></div></li><li class="open"><div class="menu-row"><svg xmlns="http://www.w3.org/2000/svg" class="dropdown-arrow" height="24" viewBox="0 0 24 24" width="24"><path d="M0 0h24v24H0z" fill="none"/><path d="M7 10l5 5 5-5z"/></svg><a href="#">float</a></div><ul><li><a href="./float.float32.html">float32</a></li><li><a href="./float.float64.html">float64</a></li></ul></li><li class="open"><div class="menu-row"><a href="./fun.html">fun</a></div></li><li class="open"><div class="menu-row"><a href="./func.html">func</a></div></li><li class="open"><div class="menu-row"><a href="./gm.html">gm</a></div></li><li class="open"><div class="menu-row"><a href="./graph.html">graph</a></div></li><li class="open"><div class="menu-row"><a href="./internal.html">internal</a></div></li><li class="open"><div class="menu-row"><a href="./iter.html">iter</a></div></li><li class="open"><div class="menu-row"><a href="./la.html">la</a></div></li><li class="open"><div class="menu-row"><svg xmlns="http://www.w3.org/2000/svg" class="dropdown-arrow" height="24" viewBox="0 0 24 24" width="24"><path d="M0 0h24v24H0z" fill="none"/><path d="M7 10l5 5 5-5z"/></svg><a href="./ml.html">ml</a></div><ul><li class="active"><a href="./ml.nlp.html">nlp</a></li></ul></li><li class="open"><div class="menu-row"><a href="./mpi.html">mpi</a></div></li><li class="open"><div class="menu-row"><a href="./noise.html">noise</a></div></li><li class="open"><div class="menu-row"><a href="./plot.html">plot</a></div></li><li class="open"><div class="menu-row"><a href="./poly.html">poly</a></div></li><li class="open"><div class="menu-row"><a href="./prime.html">prime</a></div></li><li class="open"><div class="menu-row"><a href="./quaternion.html">quaternion</a></div></li><li class="open"><div class="menu-row"><a href="./roots.html">roots</a></div></li><li class="open"><div class="menu-row"><a href="./util.html">util</a></div></li><li class="open"><div class="menu-row"><a href="./vcl.html">vcl</a></div></li><li class="open"><div class="menu-row"><svg xmlns="http://www.w3.org/2000/svg" class="dropdown-arrow" height="24" viewBox="0 0 24 24" width="24"><path d="M0 0h24v24H0z" fill="none"/><path d="M7 10l5 5 5-5z"/></svg><a href="./vlas.html">vlas</a></div><ul><li><a href="./vlas.vblas.html">vblas</a></li></ul></li>
        </ul>
      </nav>
    </header>
    <div class="doc-scrollview" id="main-content">
      <div class="doc-container">
        <div class="doc-content">
          						<section id="readme_ml.nlp" class="doc-node">
							<div class="title"><h1> ml.nlp <a href="#readme_ml.nlp">#</a></h1></div><h1>Natural Language Processing Tools</h1>
<p>This submodule offers tools for Natural Language Processing.</p>
<h2>Examples</h2>
<p><a href="https://github.com/vlang/vsl/tree/master/examples">Here</a> you can see a
full set of examples.</p>

</section>

						<section id="Constants" class="doc-node const">
							<div class="title"><h2>Constants <a href="#Constants">#</a></h2></div>

</section>
						<section id="" class="doc-node const">
<pre class="signature"><code><span class="token keyword">const</span> ngram_sep <span class="token operator">=</span> <span class="token string">'NGRAMSEP'</span></code></pre>


</section>
						<section id="count_vectorize" class="doc-node">
							<div class="title"><h2>fn count_vectorize <a href="#count_vectorize">#</a></h2><a class="link" rel="noreferrer" target="_blank" href="https://github.com/vlang/vsl/blob/master/vsl/ml/nlp/count_vectorizer.v#L55"><svg xmlns="http://www.w3.org/2000/svg" height="24" viewBox="0 0 24 24" width="24"><path d="M0 0h24v24H0z" fill="none"/><path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76 0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71 0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71 0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76 0 5-2.24 5-5s-2.24-5-5-5z"/></svg></a></div><pre class="signature"><code><span class="token keyword">fn</span> <span class="token function">count_vectorize</span><span class="token punctuation">(</span>ngrams <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">string</span><span class="token punctuation">,</span> most_frequent <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">string</span><span class="token punctuation">)</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">int</span></code></pre>
<p>count_vectorize will give you an array of occurrences of each ngram from <code>ngrams</code> in <code>most_frequent</code>. Assume
<code>ng := [['hello'], ['hello'], ['hi']]</code>.<br>
<code>nlp.count_vectorize(ng, nlp.most_frequent_ngrams(ng, 0))</code> should return <code>[2, 1]</code>. See <code>most_frequent_ngrams for more</code>
details on how it works.</p>

</section>
						<section id="inverse_document_frequencies" class="doc-node">
							<div class="title"><h2>fn inverse_document_frequencies <a href="#inverse_document_frequencies">#</a></h2><a class="link" rel="noreferrer" target="_blank" href="https://github.com/vlang/vsl/blob/master/vsl/ml/nlp/tf_idf.v#L35"><svg xmlns="http://www.w3.org/2000/svg" height="24" viewBox="0 0 24 24" width="24"><path d="M0 0h24v24H0z" fill="none"/><path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76 0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71 0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71 0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76 0 5-2.24 5-5s-2.24-5-5-5z"/></svg></a></div><pre class="signature"><code><span class="token keyword">fn</span> <span class="token function">inverse_document_frequencies</span><span class="token punctuation">(</span>document <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">string</span><span class="token punctuation">)</span> <span class="token operator">?</span><span class="token builtin">map</span><span class="token punctuation">[</span><span class="token builtin">string</span><span class="token punctuation">]</span><span class="token builtin">f64</span></code></pre>
<p>inverse_document_frequencies will return the IDF of each term by calling <code>term_idf</code> on each unique ngram. Check <code>term_idf</code> for more details about
the parameter <code>document</code>.</p>

</section>
						<section id="most_frequent_ngrams" class="doc-node">
							<div class="title"><h2>fn most_frequent_ngrams <a href="#most_frequent_ngrams">#</a></h2><a class="link" rel="noreferrer" target="_blank" href="https://github.com/vlang/vsl/blob/master/vsl/ml/nlp/count_vectorizer.v#L9"><svg xmlns="http://www.w3.org/2000/svg" height="24" viewBox="0 0 24 24" width="24"><path d="M0 0h24v24H0z" fill="none"/><path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76 0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71 0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71 0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76 0 5-2.24 5-5s-2.24-5-5-5z"/></svg></a></div><pre class="signature"><code><span class="token keyword">fn</span> <span class="token function">most_frequent_ngrams</span><span class="token punctuation">(</span>ngrams <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">string</span><span class="token punctuation">,</span> n_features <span class="token builtin">int</span><span class="token punctuation">)</span> <span class="token operator">?</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">string</span></code></pre>
<p>most_frequent_ngrams returns an array with up to <code>n_features</code> elements
denoting the most frequent ngrams in <code>ngrams</code>.<br>
Since V does not support map of arrays, the ngrams are joined by
&quot;NGRAMSEP&quot;. If <code>n_features</code> is &lt;= 0, it will be set to ngrams.len.</p>

</section>
						<section id="new_lancaster_stemmer" class="doc-node">
							<div class="title"><h2>fn new_lancaster_stemmer <a href="#new_lancaster_stemmer">#</a></h2><a class="link" rel="noreferrer" target="_blank" href="https://github.com/vlang/vsl/blob/master/vsl/ml/nlp/lancaster_stemmer.v#L145"><svg xmlns="http://www.w3.org/2000/svg" height="24" viewBox="0 0 24 24" width="24"><path d="M0 0h24v24H0z" fill="none"/><path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76 0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71 0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71 0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76 0 5-2.24 5-5s-2.24-5-5-5z"/></svg></a></div><pre class="signature"><code><span class="token keyword">fn</span> <span class="token function">new_lancaster_stemmer</span><span class="token punctuation">(</span>strip_prefix <span class="token builtin">bool</span><span class="token punctuation">)</span> LancasterStemmer</code></pre>
<p>new_lancaster_stemmer returns a LancasterStemmer struct with a
predefined set of stemming rules.</p>

</section>
						<section id="ngrams" class="doc-node">
							<div class="title"><h2>fn ngrams <a href="#ngrams">#</a></h2><a class="link" rel="noreferrer" target="_blank" href="https://github.com/vlang/vsl/blob/master/vsl/ml/nlp/tokenizer.v#L297"><svg xmlns="http://www.w3.org/2000/svg" height="24" viewBox="0 0 24 24" width="24"><path d="M0 0h24v24H0z" fill="none"/><path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76 0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71 0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71 0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76 0 5-2.24 5-5s-2.24-5-5-5z"/></svg></a></div><pre class="signature"><code><span class="token keyword">fn</span> <span class="token function">ngrams</span><span class="token punctuation">(</span>tokens <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">string</span><span class="token punctuation">,</span> n <span class="token builtin">int</span><span class="token punctuation">)</span> <span class="token operator">?</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">string</span></code></pre>
<p>ngrams will return an array of grams containing <code>n</code> elements from <code>tokens</code>. Example: <code>ngrams('the apple is red'.split(' '), 3)</code> will return [['the', 'apple', 'is'], ['apple', 'is', 'red']]</p>

</section>
						<section id="remove_punctuation" class="doc-node">
							<div class="title"><h2>fn remove_punctuation <a href="#remove_punctuation">#</a></h2><a class="link" rel="noreferrer" target="_blank" href="https://github.com/vlang/vsl/blob/master/vsl/ml/nlp/tokenizer.v#L11"><svg xmlns="http://www.w3.org/2000/svg" height="24" viewBox="0 0 24 24" width="24"><path d="M0 0h24v24H0z" fill="none"/><path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76 0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71 0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71 0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76 0 5-2.24 5-5s-2.24-5-5-5z"/></svg></a></div><pre class="signature"><code><span class="token keyword">fn</span> <span class="token function">remove_punctuation</span><span class="token punctuation">(</span>x <span class="token builtin">string</span><span class="token punctuation">)</span> <span class="token builtin">string</span></code></pre>
<p>remove_punctuation will remove the following characters from the string: <code>,.[]()[]-=_*;:+&gt;&lt;\\&quot;</code>´~^!?@#$%¨&amp;/|'`</p>

</section>
						<section id="remove_stopwords" class="doc-node">
							<div class="title"><h2>fn remove_stopwords <a href="#remove_stopwords">#</a></h2><a class="link" rel="noreferrer" target="_blank" href="https://github.com/vlang/vsl/blob/master/vsl/ml/nlp/tokenizer.v#L66"><svg xmlns="http://www.w3.org/2000/svg" height="24" viewBox="0 0 24 24" width="24"><path d="M0 0h24v24H0z" fill="none"/><path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76 0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71 0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71 0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76 0 5-2.24 5-5s-2.24-5-5-5z"/></svg></a></div><pre class="signature"><code><span class="token keyword">fn</span> <span class="token function">remove_stopwords</span><span class="token punctuation">(</span>tokens <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">string</span><span class="token punctuation">,</span> stopwords <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">string</span><span class="token punctuation">,</span> ignore_case <span class="token builtin">bool</span><span class="token punctuation">)</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">string</span></code></pre>
<p>remove_stopwords will remove all tokens included in <code>stopwords</code>.<br>
If <code>ignore_case</code> is true, &quot;THIS&quot; will be considered as &quot;this&quot;.</p>

</section>
						<section id="remove_stopwords_en" class="doc-node">
							<div class="title"><h2>fn remove_stopwords_en <a href="#remove_stopwords_en">#</a></h2><a class="link" rel="noreferrer" target="_blank" href="https://github.com/vlang/vsl/blob/master/vsl/ml/nlp/tokenizer.v#L82"><svg xmlns="http://www.w3.org/2000/svg" height="24" viewBox="0 0 24 24" width="24"><path d="M0 0h24v24H0z" fill="none"/><path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76 0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71 0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71 0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76 0 5-2.24 5-5s-2.24-5-5-5z"/></svg></a></div><pre class="signature"><code><span class="token keyword">fn</span> <span class="token function">remove_stopwords_en</span><span class="token punctuation">(</span>tokens <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">string</span><span class="token punctuation">,</span> ignore_case <span class="token builtin">bool</span><span class="token punctuation">)</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">string</span></code></pre>
<p>remove_stopwords_en is a wrapper for <code>remove_stopwords</code>, passing
a default array of some English stopwords.</p>

</section>
						<section id="term_frequencies" class="doc-node">
							<div class="title"><h2>fn term_frequencies <a href="#term_frequencies">#</a></h2><a class="link" rel="noreferrer" target="_blank" href="https://github.com/vlang/vsl/blob/master/vsl/ml/nlp/tf_idf.v#L13"><svg xmlns="http://www.w3.org/2000/svg" height="24" viewBox="0 0 24 24" width="24"><path d="M0 0h24v24H0z" fill="none"/><path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76 0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71 0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71 0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76 0 5-2.24 5-5s-2.24-5-5-5z"/></svg></a></div><pre class="signature"><code><span class="token keyword">fn</span> <span class="token function">term_frequencies</span><span class="token punctuation">(</span>ngrams_sentence <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">string</span><span class="token punctuation">)</span> <span class="token operator">?</span><span class="token builtin">map</span><span class="token punctuation">[</span><span class="token builtin">string</span><span class="token punctuation">]</span><span class="token builtin">f64</span></code></pre>
<p>term_frequencies will return the frequency of each term in a sentence.<br>
However, since in VSL NLP tools we deal with ngrams instead of regular &quot;words&quot; (1gram tokens), our sentence is actually a collection of ngrams and our words/terms are the ngrams themselves. Keep in mind that, since V does NOT support maps of arrays, ngrams are joined by the constant <code>ngram_sep</code>, which can be found in <code>ml/tokenizer.v</code>. This is why it
returns a <code>map[string]f64</code> and not a <code>map[[]string]f64</code>.</p>

</section>
						<section id="term_idf" class="doc-node">
							<div class="title"><h2>fn term_idf <a href="#term_idf">#</a></h2><a class="link" rel="noreferrer" target="_blank" href="https://github.com/vlang/vsl/blob/master/vsl/ml/nlp/tf_idf.v#L66"><svg xmlns="http://www.w3.org/2000/svg" height="24" viewBox="0 0 24 24" width="24"><path d="M0 0h24v24H0z" fill="none"/><path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76 0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71 0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71 0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76 0 5-2.24 5-5s-2.24-5-5-5z"/></svg></a></div><pre class="signature"><code><span class="token keyword">fn</span> <span class="token function">term_idf</span><span class="token punctuation">(</span>term <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">string</span><span class="token punctuation">,</span> document <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">string</span><span class="token punctuation">)</span> <span class="token operator">?</span><span class="token builtin">f64</span></code></pre>
<p>term_idf will return the IDF of a single term <code>term</code>. However, since in VSL NLP tools we deal with ngrams instead of regular &quot;words&quot; (1gram tokens), our document is actually a collection of ngrams and our words/terms are the ngrams themselves. This means that a document (a collection of sentences) is actually a <code>[][][]string</code> (array of sentences,
which by themselves are arrays of ngrams, which are arrays of string).<br>
Keep in mind that, since V does NOT support maps of arrays, ngrams are
joined by the constant <code>ngram_sep</code>, which can be found in <code>ml/tokenizer.v</code>.<br>
This is why it returns a <code>map[string]f64</code> and not a <code>map[[]string]f64</code>.</p>

</section>
						<section id="tf_idf" class="doc-node">
							<div class="title"><h2>fn tf_idf <a href="#tf_idf">#</a></h2><a class="link" rel="noreferrer" target="_blank" href="https://github.com/vlang/vsl/blob/master/vsl/ml/nlp/tf_idf.v#L91"><svg xmlns="http://www.w3.org/2000/svg" height="24" viewBox="0 0 24 24" width="24"><path d="M0 0h24v24H0z" fill="none"/><path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76 0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71 0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71 0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76 0 5-2.24 5-5s-2.24-5-5-5z"/></svg></a></div><pre class="signature"><code><span class="token keyword">fn</span> <span class="token function">tf_idf</span><span class="token punctuation">(</span>ngram <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">string</span><span class="token punctuation">,</span> sentence <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">string</span><span class="token punctuation">,</span> document <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">string</span><span class="token punctuation">)</span> <span class="token operator">?</span><span class="token builtin">f64</span></code></pre>
<p>tf_idf will return the TF * IDF for any given ngram, in a sentence, in a
document.</p>

</section>
						<section id="tokenize" class="doc-node">
							<div class="title"><h2>fn tokenize <a href="#tokenize">#</a></h2><a class="link" rel="noreferrer" target="_blank" href="https://github.com/vlang/vsl/blob/master/vsl/ml/nlp/tokenizer.v#L20"><svg xmlns="http://www.w3.org/2000/svg" height="24" viewBox="0 0 24 24" width="24"><path d="M0 0h24v24H0z" fill="none"/><path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76 0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71 0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71 0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76 0 5-2.24 5-5s-2.24-5-5-5z"/></svg></a></div><pre class="signature"><code><span class="token keyword">fn</span> <span class="token function">tokenize</span><span class="token punctuation">(</span>x <span class="token builtin">string</span><span class="token punctuation">)</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">string</span></code></pre>
<p>tokenize will return an array of tokens from the string <code>x</code>.</p>

</section>
						<section id="LancasterStemmer" class="doc-node">
							<div class="title"><h2>struct LancasterStemmer <a href="#LancasterStemmer">#</a></h2><a class="link" rel="noreferrer" target="_blank" href="https://github.com/vlang/vsl/blob/master/vsl/ml/nlp/lancaster_stemmer.v#L19"><svg xmlns="http://www.w3.org/2000/svg" height="24" viewBox="0 0 24 24" width="24"><path d="M0 0h24v24H0z" fill="none"/><path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76 0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71 0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71 0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76 0 5-2.24 5-5s-2.24-5-5-5z"/></svg></a></div><pre class="signature"><code><span class="token keyword">struct</span> <span class="token symbol">LancasterStemmer</span> <span class="token punctuation">{</span>
<span class="token keyword">mut</span><span class="token punctuation">:</span>
	rule_map <span class="token builtin">map</span><span class="token punctuation">[</span><span class="token builtin">string</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">string</span>
<span class="token keyword">pub</span> <span class="token keyword">mut</span><span class="token punctuation">:</span>
	strip_prefix <span class="token builtin">bool</span>
	rules        <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">string</span> <span class="token operator">=</span> <span class="token punctuation">[</span>
	<span class="token string">'ai*2.'</span><span class="token punctuation">,</span>
	<span class="token string">'a*1.'</span><span class="token punctuation">,</span>
	<span class="token string">'bb1.'</span><span class="token punctuation">,</span>
	<span class="token string">'city3s.'</span><span class="token punctuation">,</span>
	<span class="token string">'ci2>'</span><span class="token punctuation">,</span>
	<span class="token string">'cn1t>'</span><span class="token punctuation">,</span>
	<span class="token string">'dd1.'</span><span class="token punctuation">,</span>
	<span class="token string">'dei3y>'</span><span class="token punctuation">,</span>
	<span class="token string">'deec2ss.'</span><span class="token punctuation">,</span>
	<span class="token string">'dee1.'</span><span class="token punctuation">,</span>
	<span class="token string">'de2>'</span><span class="token punctuation">,</span>
	<span class="token string">'dooh4>'</span><span class="token punctuation">,</span>
	<span class="token string">'e1>'</span><span class="token punctuation">,</span>
	<span class="token string">'feil1v.'</span><span class="token punctuation">,</span>
	<span class="token string">'fi2>'</span><span class="token punctuation">,</span>
	<span class="token string">'gni3>'</span><span class="token punctuation">,</span>
	<span class="token string">'gai3y.'</span><span class="token punctuation">,</span>
	<span class="token string">'ga2>'</span><span class="token punctuation">,</span>
	<span class="token string">'gg1.'</span><span class="token punctuation">,</span>
	<span class="token string">'ht*2.'</span><span class="token punctuation">,</span>
	<span class="token string">'hsiug5ct.'</span><span class="token punctuation">,</span>
	<span class="token string">'hsi3>'</span><span class="token punctuation">,</span>
	<span class="token string">'i*1.'</span><span class="token punctuation">,</span>
	<span class="token string">'i1y>'</span><span class="token punctuation">,</span>
	<span class="token string">'ji1d.'</span><span class="token punctuation">,</span>
	<span class="token string">'juf1s.'</span><span class="token punctuation">,</span>
	<span class="token string">'ju1d.'</span><span class="token punctuation">,</span>
	<span class="token string">'jo1d.'</span><span class="token punctuation">,</span>
	<span class="token string">'jeh1r.'</span><span class="token punctuation">,</span>
	<span class="token string">'jrev1t.'</span><span class="token punctuation">,</span>
	<span class="token string">'jsim2t.'</span><span class="token punctuation">,</span>
	<span class="token string">'jn1d.'</span><span class="token punctuation">,</span>
	<span class="token string">'j1s.'</span><span class="token punctuation">,</span>
	<span class="token string">'lbaifi6.'</span><span class="token punctuation">,</span>
	<span class="token string">'lbai4y.'</span><span class="token punctuation">,</span>
	<span class="token string">'lba3>'</span><span class="token punctuation">,</span>
	<span class="token string">'lbi3.'</span><span class="token punctuation">,</span>
	<span class="token string">'lib2l>'</span><span class="token punctuation">,</span>
	<span class="token string">'lc1.'</span><span class="token punctuation">,</span>
	<span class="token string">'lufi4y.'</span><span class="token punctuation">,</span>
	<span class="token string">'luf3>'</span><span class="token punctuation">,</span>
	<span class="token string">'lu2.'</span><span class="token punctuation">,</span>
	<span class="token string">'lai3>'</span><span class="token punctuation">,</span>
	<span class="token string">'lau3>'</span><span class="token punctuation">,</span>
	<span class="token string">'la2>'</span><span class="token punctuation">,</span>
	<span class="token string">'ll1.'</span><span class="token punctuation">,</span>
	<span class="token string">'mui3.'</span><span class="token punctuation">,</span>
	<span class="token string">'mu*2.'</span><span class="token punctuation">,</span>
	<span class="token string">'msi3>'</span><span class="token punctuation">,</span>
	<span class="token string">'mm1.'</span><span class="token punctuation">,</span>
	<span class="token string">'nois4j>'</span><span class="token punctuation">,</span>
	<span class="token string">'noix4ct.'</span><span class="token punctuation">,</span>
	<span class="token string">'noi3>'</span><span class="token punctuation">,</span>
	<span class="token string">'nai3>'</span><span class="token punctuation">,</span>
	<span class="token string">'na2>'</span><span class="token punctuation">,</span>
	<span class="token string">'nee0.'</span><span class="token punctuation">,</span>
	<span class="token string">'ne2>'</span><span class="token punctuation">,</span>
	<span class="token string">'nn1.'</span><span class="token punctuation">,</span>
	<span class="token string">'pihs4>'</span><span class="token punctuation">,</span>
	<span class="token string">'pp1.'</span><span class="token punctuation">,</span>
	<span class="token string">'re2>'</span><span class="token punctuation">,</span>
	<span class="token string">'rae0.'</span><span class="token punctuation">,</span>
	<span class="token string">'ra2.'</span><span class="token punctuation">,</span>
	<span class="token string">'ro2>'</span><span class="token punctuation">,</span>
	<span class="token string">'ru2>'</span><span class="token punctuation">,</span>
	<span class="token string">'rr1.'</span><span class="token punctuation">,</span>
	<span class="token string">'rt1>'</span><span class="token punctuation">,</span>
	<span class="token string">'rei3y>'</span><span class="token punctuation">,</span>
	<span class="token string">'sei3y>'</span><span class="token punctuation">,</span>
	<span class="token string">'sis2.'</span><span class="token punctuation">,</span>
	<span class="token string">'si2>'</span><span class="token punctuation">,</span>
	<span class="token string">'ssen4>'</span><span class="token punctuation">,</span>
	<span class="token string">'ss0.'</span><span class="token punctuation">,</span>
	<span class="token string">'suo3>'</span><span class="token punctuation">,</span>
	<span class="token string">'su*2.'</span><span class="token punctuation">,</span>
	<span class="token string">'s*1>'</span><span class="token punctuation">,</span>
	<span class="token string">'s0.'</span><span class="token punctuation">,</span>
	<span class="token string">'tacilp4y.'</span><span class="token punctuation">,</span>
	<span class="token string">'ta2>'</span><span class="token punctuation">,</span>
	<span class="token string">'tnem4>'</span><span class="token punctuation">,</span>
	<span class="token string">'tne3>'</span><span class="token punctuation">,</span>
	<span class="token string">'tna3>'</span><span class="token punctuation">,</span>
	<span class="token string">'tpir2b.'</span><span class="token punctuation">,</span>
	<span class="token string">'tpro2b.'</span><span class="token punctuation">,</span>
	<span class="token string">'tcud1.'</span><span class="token punctuation">,</span>
	<span class="token string">'tpmus2.'</span><span class="token punctuation">,</span>
	<span class="token string">'tpec2iv.'</span><span class="token punctuation">,</span>
	<span class="token string">'tulo2v.'</span><span class="token punctuation">,</span>
	<span class="token string">'tsis0.'</span><span class="token punctuation">,</span>
	<span class="token string">'tsi3>'</span><span class="token punctuation">,</span>
	<span class="token string">'tt1.'</span><span class="token punctuation">,</span>
	<span class="token string">'uqi3.'</span><span class="token punctuation">,</span>
	<span class="token string">'ugo1.'</span><span class="token punctuation">,</span>
	<span class="token string">'vis3j>'</span><span class="token punctuation">,</span>
	<span class="token string">'vie0.'</span><span class="token punctuation">,</span>
	<span class="token string">'vi2>'</span><span class="token punctuation">,</span>
	<span class="token string">'ylb1>'</span><span class="token punctuation">,</span>
	<span class="token string">'yli3y>'</span><span class="token punctuation">,</span>
	<span class="token string">'ylp0.'</span><span class="token punctuation">,</span>
	<span class="token string">'yl2>'</span><span class="token punctuation">,</span>
	<span class="token string">'ygo1.'</span><span class="token punctuation">,</span>
	<span class="token string">'yhp1.'</span><span class="token punctuation">,</span>
	<span class="token string">'ymo1.'</span><span class="token punctuation">,</span>
	<span class="token string">'ypo1.'</span><span class="token punctuation">,</span>
	<span class="token string">'yti3>'</span><span class="token punctuation">,</span>
	<span class="token string">'yte3>'</span><span class="token punctuation">,</span>
	<span class="token string">'ytl2.'</span><span class="token punctuation">,</span>
	<span class="token string">'yrtsi5.'</span><span class="token punctuation">,</span>
	<span class="token string">'yra3>'</span><span class="token punctuation">,</span>
	<span class="token string">'yro3>'</span><span class="token punctuation">,</span>
	<span class="token string">'yfi3.'</span><span class="token punctuation">,</span>
	<span class="token string">'ycn2t>'</span><span class="token punctuation">,</span>
	<span class="token string">'yca3>'</span><span class="token punctuation">,</span>
	<span class="token string">'zi2>'</span><span class="token punctuation">,</span>
	<span class="token string">'zy1s.'</span><span class="token punctuation">,</span>
<span class="token punctuation">]</span>
<span class="token punctuation">}</span></code></pre>
<p>All credits go to the respective authors of NLTK's LancasterStemmer implementation.</p>

</section>
						<section id="LancasterStemmer.set_rules" class="doc-node">
							<div class="title"><h2>fn (LancasterStemmer) set_rules <a href="#LancasterStemmer.set_rules">#</a></h2><a class="link" rel="noreferrer" target="_blank" href="https://github.com/vlang/vsl/blob/master/vsl/ml/nlp/lancaster_stemmer.v#L175"><svg xmlns="http://www.w3.org/2000/svg" height="24" viewBox="0 0 24 24" width="24"><path d="M0 0h24v24H0z" fill="none"/><path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76 0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71 0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71 0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76 0 5-2.24 5-5s-2.24-5-5-5z"/></svg></a></div><pre class="signature"><code><span class="token keyword">fn</span> <span class="token punctuation">(</span><span class="token keyword">mut</span> stemmer LancasterStemmer<span class="token punctuation">)</span> <span class="token function">set_rules</span><span class="token punctuation">(</span>rules <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">string</span><span class="token punctuation">)</span> <span class="token operator">?</span></code></pre>
<p>set_rules redefines the rules of stemmer and parses it.</p>

</section>
						<section id="LancasterStemmer.stem" class="doc-node">
							<div class="title"><h2>fn (LancasterStemmer) stem <a href="#LancasterStemmer.stem">#</a></h2><a class="link" rel="noreferrer" target="_blank" href="https://github.com/vlang/vsl/blob/master/vsl/ml/nlp/lancaster_stemmer.v#L189"><svg xmlns="http://www.w3.org/2000/svg" height="24" viewBox="0 0 24 24" width="24"><path d="M0 0h24v24H0z" fill="none"/><path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76 0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71 0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71 0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76 0 5-2.24 5-5s-2.24-5-5-5z"/></svg></a></div><pre class="signature"><code><span class="token keyword">fn</span> <span class="token punctuation">(</span><span class="token keyword">mut</span> stemmer LancasterStemmer<span class="token punctuation">)</span> <span class="token function">stem</span><span class="token punctuation">(</span>word <span class="token builtin">string</span><span class="token punctuation">)</span> <span class="token operator">?</span><span class="token builtin">string</span></code></pre>
<p>stem serves as a wrapper for do_stemming, which is private.</p>

</section>

          <div class="footer">
            Powered by vdoc. Generated on: 4 Dec 2022 06:22:56
          </div>
        </div>
        <div class="doc-toc"><ul><li class="open"><a href="#readme_ml.nlp">README</a></li>
<li class="open"><a href="#Constants">Constants</a></li>
<li class="open"><a href="#count_vectorize">fn count_vectorize</a>        <ul>
</ul>
</li>
<li class="open"><a href="#inverse_document_frequencies">fn inverse_document_frequencies</a>        <ul>
</ul>
</li>
<li class="open"><a href="#most_frequent_ngrams">fn most_frequent_ngrams</a>        <ul>
</ul>
</li>
<li class="open"><a href="#new_lancaster_stemmer">fn new_lancaster_stemmer</a>        <ul>
</ul>
</li>
<li class="open"><a href="#ngrams">fn ngrams</a>        <ul>
</ul>
</li>
<li class="open"><a href="#remove_punctuation">fn remove_punctuation</a>        <ul>
</ul>
</li>
<li class="open"><a href="#remove_stopwords">fn remove_stopwords</a>        <ul>
</ul>
</li>
<li class="open"><a href="#remove_stopwords_en">fn remove_stopwords_en</a>        <ul>
</ul>
</li>
<li class="open"><a href="#term_frequencies">fn term_frequencies</a>        <ul>
</ul>
</li>
<li class="open"><a href="#term_idf">fn term_idf</a>        <ul>
</ul>
</li>
<li class="open"><a href="#tf_idf">fn tf_idf</a>        <ul>
</ul>
</li>
<li class="open"><a href="#tokenize">fn tokenize</a>        <ul>
</ul>
</li>
<li class="open"><a href="#LancasterStemmer">struct LancasterStemmer</a>        <ul>
<li><a href="#LancasterStemmer.set_rules">fn set_rules</a></li>
<li><a href="#LancasterStemmer.stem">fn stem</a></li>
</ul>
</li>
</ul></div>
      </div>
    </div>
  </div>
  <script src="doc.js"></script>
  <script async src="search_index.js"></script>
</body>

</html>
